extends layout

block head
  title Remote
  script(src="/js/index.js")
  link(rel="stylesheet",href="/styles/index.css")
  link(rel="stylesheet",href="/styles/codemirror.css")

block header-content
  a.navbar-text.needs-user#settings(href="#"): i.glyphicon.glyphicon-wrench
  a.navbar-text.navbar-right.needs-user#logout(href="#"): i.glyphicon.glyphicon-eject
  p.navbar-text.navbar-right#username= (data.username || "")

block content
  #loader
    .well.well-transparent.lead.text-center
      img(src="../img/spinner.gif")

  .needs-user
    each slave in (data.slaves || [])
      .panel.panel-default(data-slave=slave.name)
          .panel-heading= slave.name
          ul.list-group
            each command in (slave.commands)
              li.list-group-item(data-command=command.name,data-caption=command.displayName,data-args=command.args)
                span= command.displayName
                i.glyphicon.glyphicon-chevron-right
                img(src="/img/loader.gif")

  .modal.fade(tabindex="-1",role="dialog")
    .modal-dialog.modal-lg
      .modal-content
        .modal-header
          button.close(type="button",data-dismiss="modal") &times
          h4 Settings
        .modal-body
          textarea(id="settingsJson")

        .modal-footer
          span.token
            = "Slave token: "
            code= data.slaveToken
          button.btn.btn-primary#saveSettings(type="button") Save
          button.btn.btn-default(type="button",data-dismiss="modal") Close